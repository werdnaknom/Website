{"version":3,"sources":["pages/steps-demo.js"],"names":["stepsDemo","_classCallCheck","this","init","handleValidations","handleSteps","trigger","$trigger","$","group","data","validate","groupId","parents","attr","$groupStep","concat","parsley","on","formInstance","isValid","removeClass","addClass","hasClass","toast","stepperDemo","next","off","self","validateBy","prev","previous","whenValidate","selector","document","querySelector","window","Stepper","linear"],"mappings":"uZAGMA,qBAEJ,SAAAA,IAAeC,gBAAAC,KAAAF,GAEbE,KAAKC,2DAOLD,KAAKE,oBACLF,KAAKG,iDAGKC,GACV,IAAMC,EAAWC,EAAEF,GACbG,EAAQF,EAASG,OAAOC,SACxBC,EAAUL,EAASM,QAAQ,YAAYC,KAAK,MAC5CC,EAAaP,EAAC,kBAAAQ,OAAmBJ,EAAnB,OAEpBJ,EAAE,iBACCS,UACAC,GAAG,gBAAiB,SAAUC,GAC7B,IAAMC,EAAUD,EAAaC,QAAQ,CACnCX,MAAOA,IAGTM,EAAWM,YAAY,iBAGnBD,GACFL,EAAWO,SAAS,WAEhBf,EAASgB,SAAS,UACpBf,EAAE,mBAAmBgB,MAAM,QAG3BC,YAAYC,QAGdX,EAAWO,SAAS,WAGvBX,SAAS,CACRF,MAAOA,IAIXD,EAAE,iBACCS,UACAU,IAAI,6DAIP,IAAMC,EAAO1B,KAEbM,EAAE,SAASU,GAAG,QAAS,WACrBU,EAAKC,WAAW3B,QAIlBM,EAAE,SAASU,GAAG,QAAS,WACrB,IACMN,EADWJ,EAAEN,MACMW,QAAQ,YAAYC,KAAK,MAC5CC,EAAaP,EAAC,kBAAAQ,OAAmBJ,EAAnB,OAEpBG,EAAWM,YAAY,iBACvBN,EAAWe,OAAOT,YAAY,iBAE9BI,YAAYM,aAIdvB,EAAE,WAAWU,GAAG,QAAS,WACvBV,EAAE,iBACCS,UACAe,aAAa,CACZvB,MAAO,iBAKbD,EAAE,WAAWU,GAAG,QAAS,WAGvB,OAFAU,EAAKC,WAAW3B,OAET,0CAKT,IAAM+B,EAAWC,SAASC,cAAc,YACxCC,OAAOX,YAAc,IAAIY,QAAQJ,EAAU,CACzCK,QAAQ,aAUd9B,EAAE0B,UAAUhB,GAAG,aAAc,WAC3B,IAAIlB","file":"../../javascript/pages/steps-demo.min.js","sourcesContent":["// Class Template\n// =============================================================\n\nclass stepsDemo {\n\n  constructor () {\n\n    this.init()\n\n  }\n\n  init () {\n\n    // event handlers\n    this.handleValidations()\n    this.handleSteps()\n  }\n\n  validateBy (trigger) {\n    const $trigger = $(trigger)\n    const group = $trigger.data().validate\n    const groupId = $trigger.parents('.content').attr('id')\n    const $groupStep = $(`[data-target=\"#${groupId}\"]`)\n\n    $('#stepper-form')\n      .parsley()\n      .on('form:validate', function (formInstance) {\n        const isValid = formInstance.isValid({\n          group: group\n        })\n        // normalize states\n        $groupStep.removeClass('success error')\n\n        // give step item a validate state\n        if (isValid) {\n          $groupStep.addClass('success')\n          // go to next step or submit\n          if ($trigger.hasClass('submit')) {\n            $('#submitfeedback').toast('show')\n            console.log($('#stepper-form').serializeArray())\n          } else {\n            stepperDemo.next()\n          }\n        } else {\n          $groupStep.addClass('error')\n        }\n      })\n      .validate({\n        group: group\n      })\n\n    // kill listener\n    $('#stepper-form')\n      .parsley()\n      .off('form:validate')\n  }\n\n  handleValidations () {\n    const self = this\n    // validate on next buttons\n    $('.next').on('click', function () {\n      self.validateBy(this)\n    })\n\n    // prev buttons\n    $('.prev').on('click', function () {\n      const $trigger = $(this)\n      const groupId = $trigger.parents('.content').attr('id')\n      const $groupStep = $(`[data-target=\"#${groupId}\"]`)\n      // normalize states\n      $groupStep.removeClass('success error')\n      $groupStep.prev().removeClass('success error')\n\n      stepperDemo.previous()\n    })\n\n    // save creadit card\n    $('#savecc').on('click', () => {\n      $('#stepper-form')\n        .parsley()\n        .whenValidate({\n          group: 'creditcard'\n        })\n    })\n\n    // submit button\n    $('.submit').on('click', function () {\n      self.validateBy(this)\n\n      return false\n    })\n  }\n\n  handleSteps () {\n    const selector = document.querySelector('#stepper')\n    window.stepperDemo = new Stepper(selector, {\n      linear: false\n    })\n  }\n}\n\n\n/**\n * Keep in mind that your scripts may not always be executed after the theme is completely ready,\n * you might need to observe the `theme:load` event to make sure your scripts are executed after the theme is ready.\n */\n$(document).on('theme:init', () => {\n  new stepsDemo()\n})\n"]}