{"version":3,"sources":["pages/nestable-demo.js"],"names":["NestableDemo","_classCallCheck","this","init","handleNestable","_this","$","on","output","getData","done","data","items","each","index","item","buildItem","children","html","parent","nestable","getJSON","_this2","concat","id","text","sub","e","list","length","target","window","JSON","stringify","document"],"mappings":"uZAGMA,wBAEJ,SAAAA,IAAeC,gBAAAC,KAAAF,GAEbE,KAAKC,2DAOLD,KAAKE,0DAGW,IAAAC,EAAAH,KAEhBI,EAAE,eAAeC,GAAG,SAAUL,KAAKM,QAEnCF,EAAE,eAAeC,GAAG,SAAUL,KAAKM,QAGnCN,KAAKO,UAAUC,KAAK,SAAAC,GAClB,IAAIC,EAAQ,GACZN,EAAEO,KAAKF,EAAM,SAACG,EAAOC,GACnBH,GAASP,EAAKW,UAAUD,KAG1BT,EAAE,eACCW,WACAC,KAAKN,GACLO,SACAC,WACAb,GAAG,SAAUF,EAAKG,4CAKvB,OAAOF,EAAEe,QAAQ,+DAGRN,GAAM,IAAAO,EAAApB,KACXgB,EAAI,gCAAAK,OAAmCR,EAAKS,GAAxC,kGAAAD,OAGGR,EAAKU,KAHR,2PAoBR,OAVIV,EAAKE,WACPC,GAAQ,uBACRZ,EAAEO,KAAKE,EAAKE,SAAU,SAACH,EAAOY,GAC5BR,GAAQI,EAAKN,UAAUU,KAEzBR,GAAQ,SAGVA,GAAQ,uCAKFS,GACN,IAAMC,EAAOD,EAAEE,OAASF,EAAIrB,EAAEqB,EAAEG,QAEhCxB,EAAE,mBAAmBmB,KAAKM,OAAOC,KAAKC,UAAUL,EAAKR,SAAS,wBASlEd,EAAE4B,UAAU3B,GAAG,aAAc,WAC3B,IAAIP","file":"../../javascript/pages/nestable-demo.min.js","sourcesContent":["// Nestable Demo\n// =============================================================\n\nclass NestableDemo {\n\n  constructor () {\n\n    this.init()\n\n  }\n\n  init () {\n\n    // event handlers\n    this.handleNestable()\n  }\n\n  handleNestable () {\n\n    $('#nestable01').on('change', this.output)\n\n    $('#nestable02').on('change', this.output)\n\n    // build nestable from json data\n    this.getData().done(data => {\n      let items = ''\n      $.each(data, (index, item) => {\n        items += this.buildItem(item)\n      })\n\n      $('#nestable03')\n        .children()\n        .html(items)\n        .parent()\n        .nestable()\n        .on('change', this.output)\n    })\n  }\n\n  getData () {\n    return $.getJSON('assets/data/nestable.json')\n  }\n\n  buildItem (item) {\n    let html = `<li class=\"dd-item\" data-id=\"${item.id}\">\n      <div class=\"dd-handle\">\n        <span class=\"drag-indicator\"></span>\n        <div>${item.text}</div>\n        <div class=\"dd-nodrag btn-group ml-auto\">\n          <button class=\"btn btn-sm btn-secondary\">Edit</button>\n          <button class=\"btn btn-sm btn-secondary\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </div>`\n\n    if (item.children) {\n      html += '<ol class=\"dd-list\">'\n      $.each(item.children, (index, sub) => {\n        html += this.buildItem(sub)\n      })\n      html += '</ol>'\n    }\n\n    html += '</li>'\n\n    return html\n  }\n\n  output (e) {\n    const list = e.length ? e : $(e.target)\n\n    $('#nestableOutput').text(window.JSON.stringify(list.nestable('serialize')))\n  }\n}\n\n\n/**\n * Keep in mind that your scripts may not always be executed after the theme is completely ready,\n * you might need to observe the `theme:load` event to make sure your scripts are executed after the theme is ready.\n */\n$(document).on('theme:init', () => {\n  new NestableDemo()\n})\n"]}